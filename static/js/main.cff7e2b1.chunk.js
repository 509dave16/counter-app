(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n(226)},108:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"LOAD_ITEMS",function(){return b}),n.d(a,"CREATE_ITEM",function(){return h}),n.d(a,"UPDATE_ITEM",function(){return v}),n.d(a,"INCREMENT_ITEM",function(){return y}),n.d(a,"DECREMENT_ITEM",function(){return g}),n.d(a,"DELETE_ITEM",function(){return O}),n.d(a,"ormLoadItems",function(){return j}),n.d(a,"ormCreateItem",function(){return N}),n.d(a,"ormUpdateItem",function(){return I}),n.d(a,"ormIncrementItem",function(){return C}),n.d(a,"ormDecrementItem",function(){return T}),n.d(a,"ormDeleteItem",function(){return k});var r={};n.r(r),n.d(r,"CHANGE_PAGE",function(){return D}),n.d(r,"navigationChangePage",function(){return P});var c=n(0),o=n.n(c),u=n(45),i=n.n(u),l=(n(108),n(10)),m=n(11),s=n(13),d=n(12),p=n(14),E=n(18),f=n(46),b="orm/LOAD_ITEMS",h="orm/CREATE_ITEM",v="orm/UPDATE_ITEM",y="orm/INCREMENT_ITEM",g="orm/DECREMENT_ITEM",O="orm/DELETE_ITEM";function j(e){return{type:b,payload:e}}function N(e){return{type:h,payload:e}}function I(e){return{type:v,payload:e}}function C(e){return{type:y,payload:e}}function T(e){return{type:g,payload:e}}function k(e){return{type:O,payload:e}}var D="navigation/CHANGE_PAGE";function P(e){return{type:D,payload:e}}var M="orm/RESET";var S=Object(f.a)({},a,r,{RESET:M,ormReset:function(){return{type:M}}}),_=n(231),w=n(102),A=n(54),R=n(230),L=n(48),F=n(51),G=function(e,t,n){var a=e.Item.filter({id:t}).first();if(a){var r=a.value+n;r?a.set("value",r):a.delete()}},x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).idAttribute="id",n}return Object(p.a)(t,e),Object(m.a)(t,null,[{key:"reducer",value:function(e,t,n){var a=n.Item;switch(e.type){case S.LOAD_ITEMS:e.payload&&e.payload.length&&e.payload.forEach(function(e){return a.create(e)});break;case S.RESET:!function(e){e.Item.all().delete()}(n);break;case S.INCREMENT_ITEM:e.payload&&function(e,t){G(e,t,1)}(n,e.payload);break;case S.DECREMENT_ITEM:e.payload&&function(e,t){G(e,t,-1)}(n,e.payload);break;case S.DELETE_ITEM:e.payload&&function(e,t){e.Item.filter({id:t}).first().delete()}(n,e.payload);break;case S.CREATE_ITEM:e.payload&&function(e,t){e.Item.create(t)}(n,e.payload)}}}]),t}(L.a);x.modelName="Item",x.fields={id:Object(F.a)({getDefault:function(){return Object(R.a)()}}),name:Object(F.a)(),price:Object(F.a)(),value:Object(F.a)({getDefault:function(){return 1}})};var U=[x],H=new A.a({stateSelector:function(e){return e.orm}});H.register.apply(H,Object(w.a)(U));var q=H,J=function(e){return e.orm},V={items:Object(_.b)(q,J,function(e){return e.Item.all().toRefArray()}),createOrmSelector:function(e){return Object(_.b)(q,J,e)}},z="Cart",B=Object(E.b)(function(e){return{totalCounters:V.items(e).length}})(function(e){var t=e.totalCounters,n=Object(E.c)();return o.a.createElement("nav",{className:"navbar navbar-light bg-light"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("span",{onClick:function(){return n(S.navigationChangePage(z))}},o.a.createElement("i",{className:"fa fa-shopping-cart fa-lg m-2","aria-hidden":"true"})),o.a.createElement("span",{className:"badge badge-pill badge-info m-2",style:{width:50}},t),"Items"))}),K={fontSize:"24px"};function Q(e){var t=e;return["String","string"].includes(typeof e)&&(t=Number.parseFloat(e)),Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}var W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-10"},o.a.createElement("span",{style:K,className:"badge m-2 badge-primary"},this.props.counter.value),o.a.createElement("span",{style:K},this.props.counter.name+" "+Q(this.props.counter.price))),o.a.createElement("div",{className:"col-md-2"},o.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.onIncrement(e.props.counter)}},o.a.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"})),o.a.createElement("button",{className:"btn btn-info m-2",onClick:function(){return e.props.onDecrement(e.props.counter)},disabled:0===this.props.counter.value?"disabled":""},o.a.createElement("i",{className:"fa fa-minus-circle","aria-hidden":"true"})),o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.onDelete(e.props.counter.id)}},o.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})))))}}]),t}(c.Component),X=n(47),Y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleFieldChange=function(e,t){n.setState(Object(X.a)({},e,t))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.itemName,r=t.itemPrice;n.setState({itemName:"",itemPrice:""}),n.props.onSubmit({name:a,price:r})},n.state={itemName:"",itemPrice:""},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return c.createElement("form",{onSubmit:this.handleSubmit},c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"itemName"},"Item Name"),c.createElement("input",{required:!0,type:"text",className:"form-control",id:"itemName",placeholder:"Enter name",value:this.state.itemName,onChange:function(t){return e.handleFieldChange("itemName",t.target.value)}})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"itemPrice"},"Password"),c.createElement("input",{required:!0,type:"number",className:"form-control",id:"itemPrice",placeholder:"Enter price",value:this.state.itemPrice,onChange:function(t){return e.handleFieldChange("itemPrice",t.target.value)}})),c.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(c.Component);function Z(e){var t=e.items;return c.createElement("span",{style:K},"Total - "+Q(t.reduce(function(e,t){return e+t.price*t.value},0)))}var $=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).goToCheckout=function(){0!==n.props.counters.length?n.props.goToCheckout():alert("No items to checkout with. Please add 1 or more items.")},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.counters,n=e.onReset,a=e.onDecrement,r=e.onIncrement,c=e.onDelete,u=e.onSubmit;return o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary m-2",onClick:n},o.a.createElement("i",{className:"fa fa-recycle","aria-hidden":"true"})),t.map(function(e){return o.a.createElement(W,{key:e.id,counter:e,onIncrement:r,onDecrement:a,onDelete:c})}),o.a.createElement("div",null,o.a.createElement("span",{style:K,className:"badge m-2 badge-primary"},t.reduce(function(e,t){return e+t.value},0)),o.a.createElement(Z,{items:t})),o.a.createElement(Y,{onSubmit:u}),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("button",{onClick:this.goToCheckout,class:"btn btn-success",type:"button"},"Checkout")))}}]),t}(c.Component),ee=Object(E.b)(function(e){return{counters:V.items(e)}},function(e){return{onIncrement:function(t){return e(S.ormIncrementItem(t.id))},onDecrement:function(t){return e(S.ormDecrementItem(t.id))},onReset:function(){return e(S.ormReset())},onDelete:function(t){return e(S.ormDeleteItem(t))},onSubmit:function(t){return e(S.ormCreateItem(t))},goToCheckout:function(){return e(S.navigationChangePage("Checkout"))}}})($),te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.items;return c.createElement("div",null,c.createElement("table",{className:"table"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{scope:"col"},"Name"),c.createElement("th",{scope:"col"},"Price"),c.createElement("th",{scope:"col"},"Count"))),c.createElement("tbody",null,e.map(function(e){var t=e.name,n=e.price,a=e.value;return c.createElement("tr",{key:t},c.createElement("td",null,t),c.createElement("td",null,Q(n)),c.createElement("td",null,a))}),c.createElement("tr",null,c.createElement("td",null,c.createElement(Z,{items:e})),c.createElement("td",null),c.createElement("td",null)))))}}]),t}(c.Component),ne=Object(E.b)(function(e){return{items:V.items(e)}})(te),ae=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.createElement("main",{className:"container"},this.getView())}},{key:"getView",value:function(){var e=this.props.currentPage;return console.log("currentPage",e),"Checkout"===e?c.createElement(ne,null):e===z?c.createElement(ee,null):void 0}}]),t}(c.Component),re=Object(E.b)(function(e){return{currentPage:e.navigation.currentPage}})(ae),ce=n(20),oe=n(72),ue=n(100),ie=n.n(ue),le=n(101),me=Object(_.a)(q);var se=Object(ce.b)({orm:me,navigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentPage:z},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.CHANGE_PAGE:return Object(f.a)({},e,{currentPage:t.payload});default:return e}}}),de=Object(oe.a)({key:"cart-redux-orm",storage:ie.a},se),pe=Object(ce.c)(de),Ee=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=o.a.createElement("div",{className:"spinner-border text-primary",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."));return o.a.createElement("div",null,o.a.createElement(E.a,{store:pe},o.a.createElement(le.a,{persistor:Object(oe.b)(pe),loading:e},o.a.createElement(B,null),o.a.createElement(re,null))))}}]),t}(c.Component);n(224),n(225);i.a.render(o.a.createElement(Ee,null),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.cff7e2b1.chunk.js.map